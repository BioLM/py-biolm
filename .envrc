# .envrc
# Automatically loaded by direnv when entering this directory
# Run `direnv allow` after cloning or modifying this file

# Auto-activate .venv if it exists
if [ -d .venv ]; then
    export VIRTUAL_ENV="$(pwd)/.venv"
    export PATH="$VIRTUAL_ENV/bin:$PATH"
    export PYTHON_KEYRING_BACKEND=keyring.backends.null.Keyring
    export UV_PYTHON="${VIRTUAL_ENV}/bin/python"
    echo "‚úÖ Activated .venv environment"
    
    # Show Python version
    if [ -f .python-version ]; then
        echo "üêç Python version: $(cat .python-version)"
    fi
    
    # Check if biolmai is installed
    if python -c "import biolmai" 2>/dev/null; then
        echo "üì¶ biolmai package is installed"
    else
        echo "‚ö†Ô∏è  biolmai not installed. Run 'make install'"
    fi
fi

# Helpful reminder if .venv doesn't exist
if [ ! -d .venv ]; then
    echo "üí° No .venv found. Run 'make install' to set it up with uv."
    echo "   This will install all dependencies including the pipeline system."
fi

# Export BioLM API key if set in environment
if [ -n "$BIOLM_API_KEY" ]; then
    export BIOLM_API_KEY
fi
